{"mappings":"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","sources":["source/index.ts","source/Tool.ts","<<jsx-config-pragma.js>>","source/tools/Text.ts","source/tools/Color.ts","source/tools/Layout.ts","source/tools/Media.ts","source/tools/Control.ts"],"sourcesContent":["export * from './Tool';\nexport * from './tools/Text';\nexport * from './tools/Color';\nexport * from './tools/Layout';\nexport * from './tools/Media';\nexport * from './tools/Control';\n","import { fileOpen } from 'browser-fs-access';\n\nexport function getAnchorElement() {\n    const { anchorNode } = self.getSelection() || {};\n\n    if (anchorNode) return anchorNode.parentElement;\n}\n\nexport abstract class Tool {\n    abstract name: string;\n    abstract icon: string;\n\n    tags?: string[];\n    keys?: string[];\n    command?: string;\n    inputs?: string[];\n\n    get usable() {\n        const { command } = this;\n\n        return (\n            !command ||\n            document.queryCommandSupported(command) ||\n            document.queryCommandEnabled(command)\n        );\n    }\n\n    protected getActive() {\n        const { command, tags } = this;\n\n        if (tags) {\n            const box = getAnchorElement();\n\n            return (\n                !!box &&\n                box.matches(tags.map(tag => `${tag}, ${tag} *`).join(', '))\n            );\n        }\n        if (command) return document.queryCommandState(command);\n\n        return false;\n    }\n\n    get active() {\n        return this.getActive();\n    }\n\n    get title() {\n        const { name, keys, usable } = this;\n\n        return `${name}${\n            usable\n                ? keys\n                    ? `\\n(${keys.join(' + ')})`\n                    : ''\n                : '\\n(not supported)'\n        }`;\n    }\n\n    protected edit(editor: HTMLElement, ...data: any[]) {\n        editor.focus();\n        document.execCommand(this.command, null, ...data);\n    }\n\n    execute(editor: HTMLElement, ...data: any[]) {\n        var { inputs } = this,\n            values = [];\n\n        if (inputs) {\n            const data = inputs.map(input => self.prompt(input));\n\n            if (!data.filter(Boolean)[0]) return;\n\n            values = data;\n        }\n        this.edit(editor, ...values);\n    }\n\n    /**\n     * Render a Tool control\n     *\n     * @param editor An `HTMLElement` object or its wrapper for `[contenteditable=\"true\"]`\n     *\n     * @returns Virtual DOM of UI engines\n     */\n    abstract render(editor: any): any;\n}\n\nexport abstract class FileTool extends Tool {\n    async save(data: Blob) {\n        return URL.createObjectURL(data);\n    }\n\n    codeOf(path: string) {\n        return path;\n    }\n\n    async execute(editor: HTMLElement) {\n        const path = self.confirm(\n            'Confirm to upload a file, or cancel to input a path.'\n        )\n            ? await this.save(await fileOpen())\n            : self.prompt('Path');\n\n        if (path) this.edit(editor, this.codeOf(path));\n    }\n}\n",null,"import { Tool } from '../Tool';\n\nexport abstract class BoldTool extends Tool {\n    name = 'Bold';\n    tags = ['b', 'strong'];\n    keys = ['Ctrl', 'B'];\n    command = 'bold';\n}\n\nexport abstract class ItalicTool extends Tool {\n    name = 'Italic';\n    tags = ['i', 'em'];\n    keys = ['Ctrl', 'I'];\n    command = 'italic';\n}\n\nexport abstract class UnderlineTool extends Tool {\n    name = 'Underline';\n    tags = ['u'];\n    keys = ['Ctrl', 'U'];\n    command = 'underline';\n}\n\nexport abstract class StrikeThroughTool extends Tool {\n    name = 'Strike through';\n    tags = ['s', 'del', 'strike'];\n    command = 'strikeThrough';\n}\n\nconst HeadingCommand = document.queryCommandSupported('heading')\n    ? 'heading'\n    : 'formatBlock';\n\nexport abstract class H1Tool extends Tool {\n    name = 'H1';\n    tags = ['h1'];\n    command = HeadingCommand;\n\n    execute(editor: HTMLElement) {\n        this.edit(editor, 'H1');\n    }\n}\n\nexport abstract class H2Tool extends Tool {\n    name = 'H2';\n    tags = ['h2'];\n    command = HeadingCommand;\n\n    execute(editor: HTMLElement) {\n        this.edit(editor, 'H2');\n    }\n}\n\nexport abstract class H3Tool extends Tool {\n    name = 'H3';\n    tags = ['h3'];\n    command = HeadingCommand;\n\n    execute(editor: HTMLElement) {\n        this.edit(editor, 'H3');\n    }\n}\n\nexport abstract class FontSizeDownTool extends Tool {\n    name = 'Font Size down';\n    tags = ['small'];\n    command = 'decreaseFontSize';\n}\n\nexport abstract class FontSizeUpTool extends Tool {\n    name = 'Font Size up';\n    tags = ['big'];\n    command = 'increaseFontSize';\n}\n\nexport abstract class SubscriptTool extends Tool {\n    name = 'Subscript';\n    tags = ['sub'];\n    command = 'subscript';\n}\n\nexport abstract class SuperscriptTool extends Tool {\n    name = 'Superscript';\n    tags = ['sup'];\n    command = 'superscript';\n}\n\nexport abstract class LinkTool extends Tool {\n    name = 'Link';\n    tags = ['a'];\n    inputs = ['Path'];\n    command = 'createLink';\n}\n","import { getAnchorElement, Tool } from '../Tool';\n\nexport type ColorName = 'color' | 'backgroundColor';\n\nexport abstract class ColorTool extends Tool {\n    abstract colorName: ColorName;\n\n    getColor() {\n        const box = getAnchorElement(),\n            { colorName } = this;\n\n        if (!box) return colorName === 'color' ? '#000000' : '#ffffff';\n\n        const { [colorName]: color } = getComputedStyle(box);\n\n        const [red, green, blue] = color.match(/\\d+/g);\n\n        return (\n            '#' +\n            (+red).toString(16).padStart(2, '0') +\n            (+green).toString(16).padStart(2, '0') +\n            (+blue).toString(16).padStart(2, '0')\n        );\n    }\n\n    get active() {\n        return !!this.getColor();\n    }\n\n    execute(editor: HTMLElement, color: string) {\n        this.edit(editor, color);\n    }\n}\n\nexport abstract class ForeColorTool extends ColorTool {\n    name = 'Fore Color';\n    command = 'foreColor';\n    colorName = 'color' as ColorName;\n}\n\nexport abstract class BackColorTool extends ColorTool {\n    name = 'Back Color';\n    command = 'backColor';\n    colorName = 'backgroundColor' as ColorName;\n}\n","import { getAnchorElement, Tool } from '../Tool';\n\nexport type AlignMode = 'left' | 'center' | 'right' | 'justify';\n\nexport abstract class AlignTool extends Tool {\n    abstract align: AlignMode;\n\n    get active() {\n        if (super.getActive()) return true;\n\n        const box = getAnchorElement();\n\n        return !!box && getComputedStyle(box).textAlign === this.align;\n    }\n}\n\nexport abstract class AlignLeftTool extends AlignTool {\n    name = 'Align Left';\n    command = 'justifyLeft';\n    align = 'left' as AlignMode;\n}\n\nexport abstract class AlignCenterTool extends AlignTool {\n    name = 'Align Center';\n    command = 'justifyCenter';\n    align = 'center' as AlignMode;\n}\n\nexport abstract class AlignRightTool extends AlignTool {\n    name = 'Align Right';\n    command = 'justifyRight';\n    align = 'right' as AlignMode;\n}\n\nexport abstract class AlignFullTool extends AlignTool {\n    name = 'Align Full';\n    command = 'justifyFull';\n    align = 'justify' as AlignMode;\n}\n\nexport abstract class OrderedListTool extends Tool {\n    name = 'Ordered list';\n    tags = ['ol'];\n    command = 'insertOrderedList';\n}\n\nexport abstract class UnorderedListTool extends Tool {\n    name = 'Unordered list';\n    tags = ['ul'];\n    command = 'insertUnorderedList';\n}\n\nexport abstract class HorizontalRuleTool extends Tool {\n    name = 'Horizontal rule';\n    tags = ['hr'];\n    command = 'insertHorizontalRule';\n}\n","import { Tool, FileTool } from '../Tool';\n\nexport abstract class IFrameTool extends Tool {\n    name = 'Embed Web page';\n    tags = ['iframe'];\n    command = 'insertHTML';\n\n    execute(editor: HTMLElement) {\n        const path = self.prompt('Path');\n\n        if (path)\n            this.edit(\n                editor,\n                `<iframe style=\"width: 100%; height: 50vh; border: none\" src=\"${path}\"></iframe>`\n            );\n    }\n}\n\nexport abstract class ImageTool extends FileTool {\n    name = 'Image';\n    tags = ['img'];\n    command = 'insertHTML';\n\n    codeOf(path: string) {\n        return `<img style=\"max-width: 100%; height: auto\" src=\"${path}\"/>`;\n    }\n}\n\nexport abstract class AudioTool extends FileTool {\n    name = 'Audio';\n    tags = ['audio'];\n    command = 'insertHTML';\n\n    codeOf(path: string) {\n        return `<audio controls src=\"${path}\"></audio>`;\n    }\n}\n\nexport abstract class VideoTool extends FileTool {\n    name = 'Video';\n    tags = ['video'];\n    command = 'insertHTML';\n\n    codeOf(path: string) {\n        return `<video controls src=\"${path}\"></video>`;\n    }\n}\n","import { Tool } from '../Tool';\n\nexport abstract class UndoTool extends Tool {\n    name = 'Undo';\n    command = 'undo';\n}\n\nexport abstract class RedoTool extends Tool {\n    name = 'Redo';\n    command = 'redo';\n}\n\nexport abstract class ResetTool extends Tool {\n    name = 'Reset';\n    command = 'removeFormat';\n}\n\nexport abstract class ClearTool extends Tool {\n    name = 'Clear';\n\n    execute(editor: HTMLElement) {\n        editor.focus();\n        document.execCommand('selectAll');\n        document.execCommand('delete');\n    }\n}\n"],"names":[],"version":3,"file":"index.js.map"}