{"mappings":"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","sources":["source/index.ts","source/Tool.ts","source/tools/Text.ts","source/tools/Color.ts","source/tools/Layout.ts","source/tools/Media.ts","source/tools/Control.ts"],"sourcesContent":["export * from './Tool';\nexport * from './tools/Text';\nexport * from './tools/Color';\nexport * from './tools/Layout';\nexport * from './tools/Media';\nexport * from './tools/Control';\n","import { fileOpen } from 'browser-fs-access';\n\nexport function getAnchorElement() {\n    const { anchorNode } = self.getSelection() || {};\n\n    if (anchorNode) return anchorNode.parentElement;\n}\n\nexport abstract class Tool {\n    abstract name: string;\n    abstract icon: string;\n\n    tags?: string[];\n    keys?: string[];\n    command?: string;\n    inputs?: string[];\n\n    get usable() {\n        const { command } = this;\n\n        return (\n            !command ||\n            document.queryCommandSupported(command) ||\n            document.queryCommandEnabled(command)\n        );\n    }\n\n    protected getActive() {\n        const { command, tags } = this;\n\n        if (tags) {\n            const box = getAnchorElement();\n\n            return (\n                !!box &&\n                box.matches(tags.map(tag => `${tag}, ${tag} *`).join(', '))\n            );\n        }\n        if (command) return document.queryCommandState(command);\n\n        return false;\n    }\n\n    get active() {\n        return this.getActive();\n    }\n\n    get title() {\n        const { name, keys, usable } = this;\n\n        return `${name}${\n            usable\n                ? keys\n                    ? `\\n(${keys.join(' + ')})`\n                    : ''\n                : '\\n(not supported)'\n        }`;\n    }\n\n    protected edit(editor: HTMLElement, ...data: any[]) {\n        editor.focus();\n        document.execCommand(this.command, null, ...data);\n    }\n\n    execute(editor: HTMLElement, ...data: any[]) {\n        var { inputs } = this,\n            values = [];\n\n        if (inputs) {\n            const data = inputs.map(input => self.prompt(input));\n\n            if (!data.filter(Boolean)[0]) return;\n\n            values = data;\n        }\n        this.edit(editor, ...values);\n    }\n\n    /**\n     * Render a Tool control\n     *\n     * @param editor An `HTMLElement` object or its wrapper for `[contenteditable=\"true\"]`\n     *\n     * @returns Virtual DOM of UI engines\n     */\n    abstract render(editor: any): any;\n}\n\nexport abstract class FileTool extends Tool {\n    async save(data: Blob) {\n        return URL.createObjectURL(data);\n    }\n\n    codeOf(path: string) {\n        return path;\n    }\n\n    async execute(editor: HTMLElement) {\n        const path = self.confirm(\n            'Confirm to upload a file, or cancel to input a path.'\n        )\n            ? await this.save(await fileOpen())\n            : self.prompt('Path');\n\n        if (path) this.edit(editor, this.codeOf(path));\n    }\n}\n","import { Tool } from '../Tool';\n\nexport abstract class BoldTool extends Tool {\n    name = 'Bold';\n    tags = ['b', 'strong'];\n    keys = ['Ctrl', 'B'];\n    command = 'bold';\n}\n\nexport abstract class ItalicTool extends Tool {\n    name = 'Italic';\n    tags = ['i', 'em'];\n    keys = ['Ctrl', 'I'];\n    command = 'italic';\n}\n\nexport abstract class UnderlineTool extends Tool {\n    name = 'Underline';\n    tags = ['u'];\n    keys = ['Ctrl', 'U'];\n    command = 'underline';\n}\n\nexport abstract class StrikeThroughTool extends Tool {\n    name = 'Strike through';\n    tags = ['s', 'del', 'strike'];\n    command = 'strikeThrough';\n}\n\nconst HeadingCommand = document.queryCommandSupported('heading')\n    ? 'heading'\n    : 'formatBlock';\n\nexport abstract class H1Tool extends Tool {\n    name = 'H1';\n    tags = ['h1'];\n    command = HeadingCommand;\n\n    execute(editor: HTMLElement) {\n        this.edit(editor, 'H1');\n    }\n}\n\nexport abstract class H2Tool extends Tool {\n    name = 'H2';\n    tags = ['h2'];\n    command = HeadingCommand;\n\n    execute(editor: HTMLElement) {\n        this.edit(editor, 'H2');\n    }\n}\n\nexport abstract class H3Tool extends Tool {\n    name = 'H3';\n    tags = ['h3'];\n    command = HeadingCommand;\n\n    execute(editor: HTMLElement) {\n        this.edit(editor, 'H3');\n    }\n}\n\nexport abstract class FontSizeDownTool extends Tool {\n    name = 'Font Size down';\n    tags = ['small'];\n    command = 'decreaseFontSize';\n}\n\nexport abstract class FontSizeUpTool extends Tool {\n    name = 'Font Size up';\n    tags = ['big'];\n    command = 'increaseFontSize';\n}\n\nexport abstract class SubscriptTool extends Tool {\n    name = 'Subscript';\n    tags = ['sub'];\n    command = 'subscript';\n}\n\nexport abstract class SuperscriptTool extends Tool {\n    name = 'Superscript';\n    tags = ['sup'];\n    command = 'superscript';\n}\n\nexport abstract class LinkTool extends Tool {\n    name = 'Link';\n    tags = ['a'];\n    inputs = ['Path'];\n    command = 'createLink';\n}\n","import { getAnchorElement, Tool } from '../Tool';\n\nexport type ColorName = 'color' | 'backgroundColor';\n\nexport abstract class ColorTool extends Tool {\n    abstract colorName: ColorName;\n\n    getColor() {\n        const box = getAnchorElement(),\n            { colorName } = this;\n\n        if (!box) return colorName === 'color' ? '#000000' : '#ffffff';\n\n        const { [colorName]: color } = getComputedStyle(box);\n\n        const [red, green, blue] = color.match(/\\d+/g);\n\n        return (\n            '#' +\n            (+red).toString(16).padStart(2, '0') +\n            (+green).toString(16).padStart(2, '0') +\n            (+blue).toString(16).padStart(2, '0')\n        );\n    }\n\n    get active() {\n        return !!this.getColor();\n    }\n\n    execute(editor: HTMLElement, color: string) {\n        this.edit(editor, color);\n    }\n}\n\nexport abstract class ForeColorTool extends ColorTool {\n    name = 'Fore Color';\n    command = 'foreColor';\n    colorName = 'color' as ColorName;\n}\n\nexport abstract class BackColorTool extends ColorTool {\n    name = 'Back Color';\n    command = 'backColor';\n    colorName = 'backgroundColor' as ColorName;\n}\n","import { getAnchorElement, Tool } from '../Tool';\n\nexport type AlignMode = 'left' | 'center' | 'right' | 'justify';\n\nexport abstract class AlignTool extends Tool {\n    abstract align: AlignMode;\n\n    get active() {\n        if (super.getActive()) return true;\n\n        const box = getAnchorElement();\n\n        return !!box && getComputedStyle(box).textAlign === this.align;\n    }\n}\n\nexport abstract class AlignLeftTool extends AlignTool {\n    name = 'Align Left';\n    command = 'justifyLeft';\n    align = 'left' as AlignMode;\n}\n\nexport abstract class AlignCenterTool extends AlignTool {\n    name = 'Align Center';\n    command = 'justifyCenter';\n    align = 'center' as AlignMode;\n}\n\nexport abstract class AlignRightTool extends AlignTool {\n    name = 'Align Right';\n    command = 'justifyRight';\n    align = 'right' as AlignMode;\n}\n\nexport abstract class AlignFullTool extends AlignTool {\n    name = 'Align Full';\n    command = 'justifyFull';\n    align = 'justify' as AlignMode;\n}\n\nexport abstract class OrderedListTool extends Tool {\n    name = 'Ordered list';\n    tags = ['ol'];\n    command = 'insertOrderedList';\n}\n\nexport abstract class UnorderedListTool extends Tool {\n    name = 'Unordered list';\n    tags = ['ul'];\n    command = 'insertUnorderedList';\n}\n\nexport abstract class HorizontalRuleTool extends Tool {\n    name = 'Horizontal rule';\n    tags = ['hr'];\n    command = 'insertHorizontalRule';\n}\n","import { Tool, FileTool } from '../Tool';\n\nexport abstract class IFrameTool extends Tool {\n    name = 'Embed Web page';\n    tags = ['iframe'];\n    command = 'insertHTML';\n\n    execute(editor: HTMLElement) {\n        const path = self.prompt('Path');\n\n        if (path)\n            this.edit(\n                editor,\n                `<iframe style=\"width: 100%; height: 50vh; border: none\" src=\"${path}\"></iframe>`\n            );\n    }\n}\n\nexport abstract class ImageTool extends FileTool {\n    name = 'Image';\n    tags = ['img'];\n    command = 'insertHTML';\n\n    codeOf(path: string) {\n        return `<img style=\"max-width: 100%; height: auto\" src=\"${path}\"/>`;\n    }\n}\n\nexport abstract class AudioTool extends FileTool {\n    name = 'Audio';\n    tags = ['audio'];\n    command = 'insertHTML';\n\n    codeOf(path: string) {\n        return `<audio controls src=\"${path}\"></audio>`;\n    }\n}\n\nexport abstract class VideoTool extends FileTool {\n    name = 'Video';\n    tags = ['video'];\n    command = 'insertHTML';\n\n    codeOf(path: string) {\n        return `<video controls src=\"${path}\"></video>`;\n    }\n}\n","import { Tool } from '../Tool';\n\nexport abstract class UndoTool extends Tool {\n    name = 'Undo';\n    command = 'undo';\n}\n\nexport abstract class RedoTool extends Tool {\n    name = 'Redo';\n    command = 'redo';\n}\n\nexport abstract class ResetTool extends Tool {\n    name = 'Reset';\n    command = 'removeFormat';\n}\n\nexport abstract class ClearTool extends Tool {\n    name = 'Clear';\n\n    execute(editor: HTMLElement) {\n        editor.focus();\n        document.execCommand('selectAll');\n        document.execCommand('delete');\n    }\n}\n"],"names":[],"version":3,"file":"index.esm.js.map"}